Mongo Queries:
------------------------------------------------------------------------------
use voting_system
------------------------------------------------------------------------------

db.voters.insertMany([
  {
    voter_id: "V001",
    first_name: "John",
    last_name: "Doe",
    password: "pass001",
    address: "mangalore",
    phone: "9876543210",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V002",
    first_name: "Alice",
    last_name: "Doel",
    password: "pass002",
    address: "adyar",
    phone: "1234567890",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  }
])
db.voters.insertMany([
  {
    voter_id: "V003",
    first_name: "Emma",
    last_name: "Watson",
    password: "pass003",
    address: "kankanady",
    phone: "9988776655",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V004",
    first_name: "Robert",
    last_name: "Brown",
    password: "pass004",
    address: "surathkal",
    phone: "9876501234",
    constituency: "C002",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V005",
    first_name: "Sophia",
    last_name: "Green",
    password: "pass005",
    address: "karkala",
    phone: "9123456789",
    constituency: "C002",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V006",
    first_name: "Liam",
    last_name: "White",
    password: "pass006",
    address: "moodbidri",
    phone: "8123456780",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V007",
    first_name: "Olivia",
    last_name: "Hill",
    password: "pass007",
    address: "padil",
    phone: "7012345678",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V008",
    first_name: "Noah",
    last_name: "Taylor",
    password: "pass008",
    address: "bantwal",
    phone: "9312345678",
    constituency: "C002",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V009",
    first_name: "Ava",
    last_name: "Clark",
    password: "pass009",
    address: "pumpwell",
    phone: "9412345678",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V010",
    first_name: "William",
    last_name: "Davis",
    password: "pass010",
    address: "bejai",
    phone: "9512345678",
    constituency: "C002",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V011",
    first_name: "Isabella",
    last_name: "Martin",
    password: "pass011",
    address: "kadri",
    phone: "9612345678",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V012",
    first_name: "James",
    last_name: "Walker",
    password: "pass012",
    address: "ullal",
    phone: "9712345678",
    constituency: "C002",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V013",
    first_name: "Mia",
    last_name: "Hall",
    password: "pass013",
    address: "falnir",
    phone: "9812345678",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V014",
    first_name: "Benjamin",
    last_name: "Allen",
    password: "pass014",
    address: "valencia",
    phone: "9912345678",
    constituency: "C001",
    has_voted: false,
    voted_candidate_id: null
  },
  {
    voter_id: "V015",
    first_name: "Charlotte",
    last_name: "Young",
    password: "pass015",
    address: "deralakatte",
    phone: "9012345678",
    constituency: "C002",
    has_voted: false,
    voted_candidate_id: null
  }
]);

------------------------------------------------------------------------------

db.parties.insertOne({
  party_id: "P001",
  name: "Democratic Party",
  password: "party001"
})

db.parties.insertMany([
  {
    party_id: "P002",
    name: "Republican Front",
    password: "party002"
  },
  {
    party_id: "P003",
    name: "Green Alliance",
    password: "party003"
  }
]);

------------------------------------------------------------------------------

db.candidates.insertMany([
  {
    candidate_id: "CD001",
    name: "Alice Johnson",
    constituency: "C001",
    party_id: "P001",
    votes: 0
  },
  {
    candidate_id: "CD002",
    name: "Bob Smith",
    constituency: "C001",
    party_id: "P002",
    votes: 0
  }
]);

db.candidates.insertMany([
  {
    candidate_id: "CD003",
    name: "Carol Green",
    constituency: "C001",
    party_id: "P003",
    votes: 0
  },
  {
    candidate_id: "CD004",
    name: "David Lee",
    constituency: "C002",
    party_id: "P001",
    votes: 0
  },
  {
    candidate_id: "CD005",
    name: "Enola Adams",
    constituency: "C002",
    party_id: "P002",
    votes: 0
  },
  {
    candidate_id: "CD006",
    name: "Frank Miller",
    constituency: "C002",
    party_id: "P003",
    votes: 0
  }
]);

------------------------------------------------------------------------------

db.constituencies.insertOne({
  constituency_id: "C001",
  name: "Mangalore Central",
  password: "const001"
})

db.constituencies.insertOne({
  constituency_id: "C002",
  name: "Mangalore South",
  password: "const002"
});

=======================================================================
 1. QUERY: Show all candidates in a constituency with party names
--------------------------------------------------
db.candidates.aggregate([
  { $match: { constituency: "C001" } },
  {
    $lookup: {
      from: "parties",
      localField: "party_id",
      foreignField: "party_id",
      as: "party_info"
    }
  },
  {
    $unwind: "$party_info"
  },
  {
    $project: {
      _id: 0,
      candidate_id: 1,
      name: 1,
      constituency: 1,
      party_name: "$party_info.name"
    }
  }
])

===========================================================================================
